<section class="relative w-full select-none" role="region" [attr.aria-label]="ariaLabel">
    <!-- Wrapper -->
    <div class="group relative overflow-hidden rounded-lg borde" (mouseenter)="pauseOnHover && pause()"
        (mouseleave)="pauseOnHover && resume()">

        <!-- Pista -->
        <div class="flex transition-transform duration-500 ease-out"
            [ngStyle]="{ transform: 'translateX(-' + currentIndex() * 100 + '%)'}" (pointerdown)="onPointerDown($event)"
            (pointermove)="onPointerMove($event)" (pointerup)="onPointerUp($event)"
            (pointercancel)="onPointerUp($event)" (pointerleave)="dragging && onPointerUp($event)"
            style="touch-action: pan-y;">

            <div *ngFor="let img of images; index as i" class="shrink-0 grow-0 basis-full relative">
                <img [src]="img.images[0]" [alt]="img.title || ('Slide ' + (i+1))"
                    class="w-full h-64 md:h-96 object-cover block" loading="lazy">
                <div class="flex flex-col space-y-2 p-4">
                    <h3 class="text-sm text-gray-700">{{ img.title }}</h3>

                    <p class="text-lg font-medium text-gray-900">
                        {{ img.promotion }}
                    </p>
                    <p class="text-sm font-medium text-gray-500">
                        {{ img.creationAt | timeAgo }}
                    </p>
                    <button class="text-black bg-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 w-full"
                        (click)="addToCartHandler()">
                        Add to cart
                    </button>
                </div>
            </div>
        </div>

        <!-- Flecha izquierda -->
        <button type=" button"
            class="hidden md:flex absolute left-2 top-1/2 -translate-y-1/2 items-center justify-center rounded-full h-10 w-10 bg-black/40 hover:bg-black/60 text-white focus:outline-none focus:ring ring-white/50 transition group-hover:flex"
            (click)="prev()" aria-label="Anterior">
            ‹
        </button>

        <!-- Flecha derecha -->
        <button type="button"
            class="hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 items-center justify-center rounded-full h-10 w-10 bg-black/40 hover:bg-black/60 text-white focus:outline-none focus:ring ring-white/50 transition group-hover:flex"
            (click)="next()" aria-label="Siguiente">
            ›
        </button>
        <!-- Etiquetas de accesibilidad ocultas -->
        <p class="sr-only">Slide {{ currentIndex() + 1 }} de {{ images.length }}</p>
    </div>
</section>